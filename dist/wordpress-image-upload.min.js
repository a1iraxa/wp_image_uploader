/*!  - v0.0.2
 * https://github.com/mrbobbybryant/wp_image_uploader#readme
 * Copyright (c) 2016; * Licensed GPLv2+ */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.links=c.buttons=void 0;var d=a("./utils"),e=function(a,b,c){var e=(0,d.createElement)("input",[{type:"button"},{Class:"button"},{id:a+"-image-upload-button"},{value:b}]),f=(0,d.createElement)("input",[{type:"button"},{Class:"button"},{id:a+"-image-delete-button"},{value:c},{style:"display:none;"}]);return{addButton:e,deleteButton:f}},f=function(a,b,c){var e=(0,d.createElement)("a",[{id:a+"-image-upload-button"},{href:"#"}]),f=(0,d.createElement)("a",[{id:a+"-image-delete-button"},{href:"#"},{style:"display:none;"}]);return e.innerHTML=b,f.innerHTML=c,{addLink:e,deleteLink:f}};c.buttons=e,c.links=f},{"./utils":2}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=function(a,b){var c=document.createElement(a);return b.map(function(a){var b=Object.keys(a);c.setAttribute(b[0],a[b[0]])}),c},e=function(a,b){var c=a.uploaderKey;return document.getElementById(c+b)},f=function(a,b){var c=b.addButton,d=b.deleteElement,e=b.imgElement;"ADD"===a&&(h(c),g(d),e.style.width="100%"),"DELETE"===a&&(g(c),h(d),e.style.width="")},g=function(a){a.setAttribute("style","display:'';")},h=function(a){a.setAttribute("style","display:none;")};c.createElement=d,c.cacheElement=e,c.toggleVisibity=f},{}],3:[function(a,b,c){"use strict";var d=a("./utils"),e=a("./uploadControls"),f=function(){var a={modalTitle:"Select or Upload Media",modalButtonText:"Use this media",addButtonText:"Add Image",deleteButtonText:"Remove Image",addButton:"",deleteElement:"",hiddenElement:"",imgElement:"",mainDiv:"",customUploader:"",uploaderKey:""},b=function(b,d,e){a=c(e,b),h(b,d),a=f(),g(a)},c=function(b,c){return Object.assign({},a,b,{uploaderKey:c})},f=function(){return Object.assign({},a,{addButton:(0,d.cacheElement)(a,"-image-upload-button")},{deleteElement:(0,d.cacheElement)(a,"-image-delete-button")},{hiddenElement:(0,d.cacheElement)(a,"-hidden-field")},{imgElement:(0,d.cacheElement)(a,"-img-tag")},{mainDiv:(0,d.cacheElement)(a,"-upload-wrapper")},{addLink:(0,d.cacheElement)(a,"-image-upload-text")},{deleteLink:(0,d.cacheElement)(a,"-image-delete-text")},{customUploader:wp.media({title:a.modalTitle,button:{text:a.modalButtonText},multiple:!1})})},g=function(a){var b=a.addButton,c=a.customUploader,d=a.deleteElement;b.addEventListener("click",i),c.on("select",j),d.addEventListener("click",k),window.addEventListener("DOMContentLoaded",m)},h=function(b,c){var f=[],g=document.getElementById(b),h=(0,d.createElement)("div",[{id:b+"-upload-wrapper"}]);f.push((0,d.createElement)("img",[{id:b+"-img-tag"}])),f.push((0,d.createElement)("input",[{type:"hidden"},{id:b+"-hidden-field"},{name:b+"-hidden-field"}]));var i=(0,d.createElement)("div",[{style:"display:none;"}]);if(i.innerHTML=wpImageUploader.security,f.push(i),"button"===c){var j=(0,e.buttons)(b,a.addButtonText,a.deleteButtonText);f.push(j.addButton),f.push(j.deleteButton)}if("link"===c){var k=(0,e.links)(b,a.addButtonText,a.deleteButtonText);f.push(k.addLink),f.push(k.deleteLink)}f.map(function(a){h.appendChild(a)}),g.appendChild(h)},i=function(b){b.preventDefault(),a.customUploader&&a.customUploader.open()},j=function(b){var c=a.customUploader.state().get("selection").first().toJSON();a.imgElement.setAttribute("src",c.url),a.hiddenElement.setAttribute("value",JSON.stringify([{id:c.id,src:c.url}])),(0,d.toggleVisibity)("ADD",a)},k=function(){a.imgElement.setAttribute("src",""),a.hiddenElement.setAttribute("value",""),(0,d.toggleVisibity)("DELETE",a)},l=function(){return""!==wpImageUploader.uploadKeys?wpImageUploader.uploadKeys.filter(function(b){return b.key===a.uploaderKey+"-hidden-field"}):void 0},m=function(){var b=l();if("undefined"!=typeof b){if(!1===b[0].src)return void(0,d.toggleVisibity)("DELETE",a);a.imgElement.setAttribute("src",b[0].src),a.hiddenElement.setAttribute("value",JSON.stringify([b[0]])),(0,d.toggleVisibity)("ADD",a)}};return{init:b}},g=f();g.init("image-one","link",{addButtonText:"Click Me!",modalTitle:"New Modal Text"});var h=f();h.init("image-two","button",{})},{"./uploadControls":1,"./utils":2}]},{},[1,2,3]);